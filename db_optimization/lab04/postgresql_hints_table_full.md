## Екзотичний хінти

### Категорія: pg_hint_plan

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `Set(enable_hashjoin off, enable_nestloop on)` | Формальний | Комбінований вплив на план | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, комбінований вплив на план. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `Rows(t1 #100)` | Формальний | Задати очікувану кількість рядків | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, задати очікувану кількість рядків. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `Scan(table)` | Формальний | Автоматичний вибір типу сканування таблиці | Цей хінт скидає обмеження на тип сканування, дозволяючи планувальнику самостійно обрати найкращий варіант. |

### Категорія: enable_*

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `enable_tidscan = off` | Вбудований | Вимкнути TID scan як метод | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, вимкнути tid scan як метод. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `enable_material = off` | Вбудований | Вимкнути materialization | Це може змусити планувальник не створювати тимчасові таблиці (матеріалізовані підзапити). |
| `enable_gathermerge = off` | Вбудований | Заборонити використання Gather Merge | Застосовується для тонкого налаштування паралельних планів. |
| `enable_sort = off` | Вбудований | Вимкнути сортування | Може вплинути на вибір Merge Join та ORDER BY в запитах. |

### Категорія: cost

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `parallel_setup_cost = 0.1` | Вбудований | Примусити/заборонити паралелізм | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, примусити/заборонити паралелізм. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `effective_cache_size = '8GB'` | Вбудований | Вплив на вибір індексів та Merge Join | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, вплив на вибір індексів та merge join. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `cpu_operator_cost = 0.0025` | Вбудований | Змінити вартість операторів у WHERE | Впливає на вибір фільтрації у запитах, особливо коли багато обчислень. |
| `geqo_threshold = 12` | Вбудований | Вмикання генетичного оптимізатора | Застосовується для запитів з великою кількістю JOIN (>12 таблиць). |

### Категорія: memory

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `hash_mem_multiplier = 2.0` | Вбудований | Збільшити пам’ять для Hash Join | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, збільшити пам’ять для hash join. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `maintenance_work_mem = '512MB'` | Вбудований | Пам’ять для VACUUM, CREATE INDEX | Прискорює масові операції на таблицях, особливо при створенні індексів. |

### Категорія: structural

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `заміна JOIN на підзапити` | Неформальний | Контроль порядку виконання без JOIN | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, контроль порядку виконання без join. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `CTE → inline VIEW` | Неформальний | Уникнути матеріалізації CTE | Починаючи з PG 12, CTE не обов’язково матеріалізуються — це допомагає уникнути зайвих витрат. |
| `розбиття великих WHERE на частини` | Неформальний | Дозволяє кращу селективність умов | Може допомогти планувальнику краще оцінити фільтрацію та використати індекси. |

### Категорія: statistics

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `CREATE STATISTICS` | Вбудований | Збір міжколонкової статистики | Це покращує плани для фільтрацій, які залежать від кількох колонок одночасно. |

## Початковий хінти

### Категорія: pg_hint_plan

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `SeqScan(table)` | Формальний | Примусове використання Seq Scan | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, примусове використання seq scan. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `IndexScan(table index)` | Формальний | Примусове використання індексу | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, примусове використання індексу. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `HashJoin(t1 t2)` | Формальний | Примусове використання Hash Join | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, примусове використання hash join. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `NoSeqScan(table)` | Формальний | Заборонити Seq Scan | Цей хінт виключає використання повного сканування таблиці, змушуючи планувальник обирати індекси. |

### Категорія: enable_*

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `enable_seqscan = off` | Вбудований | Змусити використовувати індекс | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, змусити використовувати індекс. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `enable_indexscan = off` | Вбудований | Змусити повний скан таблиці | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, змусити повний скан таблиці. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |

### Категорія: cost

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `random_page_cost = 1.0` | Вбудований | Змусити вибирати індекси при SSD | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, змусити вибирати індекси при ssd. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `seq_page_cost = 4.0` | Вбудований | Знеохотити Seq Scan | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, знеохотити seq scan. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |

### Категорія: statistics

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `ANALYZE` | Неформальний | Оновлення статистики вручну | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, оновлення статистики вручну. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `default_statistics_target = 100` | Вбудований | Підвищити точність оцінок | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, підвищити точність оцінок. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |

### Категорія: structural

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `OR → UNION ALL` | Неформальний | Зменшити фрагментацію плану та допомогти індексам | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, зменшити фрагментацію плану та допомогти індексам. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |

## Просунутий хінти

### Категорія: pg_hint_plan

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `MergeJoin(t1 t2)` | Формальний | Примусове використання Merge Join | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, примусове використання merge join. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `Leading((t1 t2))` | Формальний | Задати порядок з’єднання | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, задати порядок з’єднання. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `NoIndexScan(table)` | Формальний | Заборонити використання індексу | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, заборонити використання індексу. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `NoHashJoin(table)` | Формальний | Заборонити Hash Join | Допомагає протестувати інші типи JOIN, коли Hash Join не дає бажаного результату. |
| `NoMergeJoin(table)` | Формальний | Заборонити Merge Join | Може бути корисно, коли Merge Join надто витратний при сортуванні. |

### Категорія: enable_*

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `enable_mergejoin = off` | Вбудований | Змусити використовувати інший тип JOIN | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, змусити використовувати інший тип join. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `enable_hashjoin = off` | Вбудований | Виключити Hash Join з плану | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, виключити hash join з плану. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |

### Категорія: cost

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `cpu_tuple_cost = 0.01` | Вбудований | Змінити вагу CPU для обробки рядка | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, змінити вагу cpu для обробки рядка. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `cpu_index_tuple_cost = 0.005` | Вбудований | Вплив на Index Scan порівняно з Seq | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, вплив на index scan порівняно з seq. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |

### Категорія: memory

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `work_mem = '256MB'` | Вбудований | Більше пам’яті для JOIN/SORT | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, більше пам’яті для join/sort. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `parallel_tuple_cost = 0.05` | Вбудований | Тюнінг паралельного плану | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, тюнінг паралельного плану. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |

### Категорія: statistics

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `SET STATISTICS 200` | Вбудований | Змінити деталізацію для колонки | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, змінити деталізацію для колонки. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `VACUUM ANALYZE` | Неформальний | Оновити статистику + прибрати мертві рядки | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, оновити статистику + прибрати мертві рядки. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `ALTER TABLE ... ALTER COLUMN ... SET STATISTICS` | Вбудований | Локальне підвищення точності статистики | Дозволяє налаштувати глибину збирання статистики для конкретної колонки. |

### Категорія: structural

| Хінт / Приклад | Тип | Коротке пояснення | Детальне пояснення |
|----------------|------|--------------------|----------------------|
| `використання CTE або inline VIEW` | Неформальний | Керування порядком обчислення | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, керування порядком обчислення. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |
| `ручне розбиття запиту на підзапити` | Неформальний | Контроль за плануванням частин запиту | Цей хінт або параметр використовується, коли потрібно досягти специфічного впливу на планувальник запитів. Наприклад, контроль за плануванням частин запиту. Це може бути корисно при оптимізації SELECT-запитів, коли планувальник не обирає бажаний шлях самостійно. |

